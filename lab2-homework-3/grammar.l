%option noyywrap
%x SINGLELINECOMMENTS 
%x MULTIPLELINECOMMENTS
%%

"\/\*" { BEGIN (MULTIPLELINECOMMENTS) ;}
<MULTIPLELINECOMMENTS>[^*\n]* { } 
<MULTIPLELINECOMMENTS>"*"+[^*/\n]*
<MULTIPLELINECOMMENTS>\n
<MULTIPLELINECOMMENTS>"*"+"/" { BEGIN (INITIAL); } 

"\/\/" { BEGIN (SINGLELINECOMMENTS) ;}
<SINGLELINECOMMENTS>.* { fprintf_s(yyout, "\n"); } 
<SINGLELINECOMMENTS>\n { BEGIN (INITIAL); } 

%%

